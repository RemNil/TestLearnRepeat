[
["data-quality.html", "Chapter 6 Data quality 6.1 OpenFDA", " Chapter 6 Data quality 6.1 OpenFDA According to the published data from the U.S. Food and Drug Administration (FDA), there are about 10.5 million drug adverse event reports (Nov. 2019) reported to the FDA. 6.1.1 Data cleaning If we run a search on the official release of the FDA data using the openFDA R package, we obtain a lot of nonsense data. For example, for quetiapine, we see that there are frequencies returned for terms such as “disorder”, “unknown”, “indication”, “for”, “product”, etc. However, what we would want is simply a list with medical indications and the frequency of reported sAE. library(openfda) Numb_query = fda_query(&quot;/drug/event.json&quot;) %&gt;% fda_api_key(&quot;ex0HLx7faxU5MnmTGJ9GqIRiS2qf0oP6KY8KzF3F&quot;) %&gt;% fda_count(&quot;patient.drug.drugindication&quot;); quetia_num = Numb_query %&gt;% fda_filter(&quot;patient.drug.openfda.generic_name&quot;, &quot;quetiapine&quot;) %&gt;% fda_exec() ## Fetching: https://api.fda.gov/drug/event.json?search=patient.drug.openfda.generic_name:quetiapine&amp;api_key=ex0HLx7faxU5MnmTGJ9GqIRiS2qf0oP6KY8KzF3F&amp;count=patient.drug.drugindication knitr::kable(quetia_num) term count disorder 31444 unknown 25378 indication 25377 for 25370 product 23727 used 23684 depression 16416 bipolar 16393 anxiety 8068 schizophrenia 7140 sleep 6399 disease 6103 insomnia 5202 pain 4795 hypertension 3798 s 3670 psychotic 3229 therapy 3082 drug 2797 blood 2689 parkinson 2536 type 2464 prophylaxis 2216 diabetes 2131 i 2028 mellitus 2006 use 1927 dementia 1885 reflux 1781 schizoaffective 1780 gastrooesophageal 1744 affective 1671 cholesterol 1669 hallucination 1658 multiple 1551 major 1511 abnormal 1401 arthritis 1373 agitation 1328 sclerosis 1326 hyperactivity 1304 infection 1293 attention 1265 increased 1257 stress 1240 deficit 1200 syndrome 1190 post 1161 traumatic 1119 chronic 1097 hypothyroidism 1095 mental 1092 pulmonary 1078 pressure 1041 narcolepsy 992 rheumatoid 972 mood 954 constipation 926 cessation 924 smoking 922 asthma 896 delusion 859 migraine 852 psychosis 846 back 844 mania 834 muscle 800 panic 799 hepatitis 798 c 794 cancer 794 of 789 cardiac 761 supplementation 731 nausea 705 cell 697 personality 695 fibromyalgia 666 2 659 epilepsy 635 paranoid 634 behaviour 630 obsessive 604 atrial 600 fibrillation 592 obstructive 585 thyroid 585 compulsive 576 convulsion 573 crohn 572 thrombosis 569 vitamin 568 tube 563 defect 561 neural 559 attack 558 psoriasis 554 contraception 523 myeloma 520 headache 518 It seems there is a problem in that the text data is parsed into n-grams without due diligence with regard to the meaning of the operation. For example, “diabetes” and “mellitus” are listed as distinct terms (althoug with different frequencies). library(dplyr) library(plotly) quetiapine_sAE&lt;- filter(quetia_num, term == c(&quot;depression&quot;, &quot;bipolar&quot;, &quot;anxiety&quot;, &quot;schizophrenia&quot;, &quot;sleep&quot;, &quot;insomnia&quot;, &quot;pain&quot;, &quot;hypertension&quot;, &quot;psychotic&quot;, &quot;parkinson&quot;, &quot;diabetes&quot;,&quot;dementia&quot;, &quot;schizoaffective&quot;, &quot;gastrooesophageal&quot;, &quot;affective&quot;, &quot;hallucination&quot;, &quot;arthritis&quot;, &quot;agitation&quot;, &quot;sclerosis&quot;, &quot;hyperactivity&quot;, &quot;infection&quot;, &quot;attention&quot;, &quot;stress&quot;, &quot;traumatic&quot;, &quot;hypothyroidism&quot;, &quot;pulmonary&quot;, &quot;narcolepsy&quot;, &quot;rheumatoid&quot;,&quot;mood&quot;, &quot;constipation&quot;, &quot;asthma&quot;, &quot;delusion&quot;, &quot;migraine&quot;, &quot;psychosis&quot;, &quot;mania&quot;, &quot;muscle&quot;, &quot;panic&quot;, &quot;hepatitis&quot;, &quot;cancer&quot;, &quot;cardiac&quot;, &quot;nausea&quot;, &quot;personality&quot;, &quot;fibromyalgia&quot;, &quot;epilepsy&quot;, &quot;paranoid&quot;, &quot;obsessive&quot;, &quot;thyroid&quot;, &quot;compulsive&quot;, &quot;convulsion&quot;, &quot;crohn&quot;, &quot;thrombosis&quot;, &quot;attack&quot;, &quot;psoriasis&quot;, &quot;myeloma&quot;, &quot;headache&quot;)) plot_ly(data = quetiapine_sAE, x = quetiapine_sAE$term, y = quetiapine_sAE$count, type = &quot;scatter&quot;, mode = &quot;markers&quot;) %&gt;% layout(title = &quot;Scatterplot&quot;, autosize = F, width = 300, height = 300) ShinyAPP openFDA. "]
]
